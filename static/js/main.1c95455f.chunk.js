(this.webpackJsonpthird_party=this.webpackJsonpthird_party||[]).push([[0],{207:function(e,t,a){e.exports=a(374)},212:function(e,t,a){},373:function(e,t,a){},374:function(e,t,a){"use strict";a.r(t);var r,n=a(0),i=a.n(n),l=a(19),o=a.n(l),s=(a(212),a(34)),c=a(387),u=a(44),m=a(386),d=a(391),p=a(153),f=a(114),y=a(115),v=a(135),h=a(131),g=r=i.a.createContext(),b=g.Provider,w=(g.Consumer,function(e){Object(v.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(f.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={dfrsFormData:{}},e.f_setDfrsFormData=function(t){e.setState({dfrsFormData:t})},e}return Object(y.a)(a,[{key:"render",value:function(){return i.a.createElement(b,{value:Object(p.a)(Object(p.a)({},this.state),{},{f_setDfrsFormData:this.f_setDfrsFormData})},this.props.children)}}]),a}(i.a.Component)),E=a(383),k=a(132),D=a(377),S=a(381),P=a(101),M=a(378),O=a(36),j=a.n(O),_={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},I={xs:{span:24,offset:0},sm:{span:16,offset:8}},C=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)(!0),c=Object(s.a)(o,2),m=c[0],d=c[1],p=Object(n.useState)("range-picker"),f=Object(s.a)(p,2),y=f[0],v=f[1];var h=e.timesRange;return i.a.createElement(E.a,Object.assign({name:"deforestation_control"},_,{onFinish:function(t){return e.onFinish(t,y)}}),i.a.createElement(k.a.Group,{onChange:function(e){v(e.target.value),"period"==e.target.value?(d(!1),l(!0)):"range-picker"==e.target.value?(d(!0),l(!1)):"all"==e.target.value&&(d(!0),l(!0))},value:y},i.a.createElement(k.a,{value:"range-picker"},"Time Range"),i.a.createElement(k.a,{value:"period"},"Time Period"),i.a.createElement(k.a,{value:"all"},"Select All")),i.a.createElement(D.a,null),i.a.createElement(E.a.Item,{name:"range-picker",label:"Time Range"},i.a.createElement(S.a.RangePicker,{format:"YYYY/MM/DD",disabled:r})),i.a.createElement(D.a,null,"Or"),i.a.createElement(E.a.Item,{name:"period-time",label:"Period Time"},i.a.createElement(P.a,{placeholder:"select time period",disabled:m},h.map((function(e,t){var a=Object(s.a)(e,2),r=a[0],n=a[1];return i.a.createElement(P.a.Option,{key:t,value:"".concat(j()(r).format("YYYY-MM-DD"),"|").concat(j()(n).format("YYYY-MM-DD"))},j()(r).format("MMM Do YYYY")," - ",j()(n).format("MMM Do YYYY"))})))),i.a.createElement(E.a.Item,{wrapperCol:I},i.a.createElement(M.a,null,i.a.createElement(u.a,{type:"primary",htmlType:"submit",id:"button-form-deforestation"},"Submit"),i.a.createElement(u.a,{type:"primary",onClick:e.onClear},"Clear"))))},x=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),r=a[0],l=a[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"button-notif"},i.a.createElement(c.a,{count:e.count},i.a.createElement(u.a,{type:"primary",shape:"circle",size:"large",id:"buttonNotif",onClick:e.onClick},i.a.createElement(d.a,null)))),i.a.createElement(m.a,{title:"Deforestation",placement:"right",closable:!0,onClose:function(){l(!1)},visible:r,width:500}))},F=a(83),R=a(379),Y=a(392),L=a(393),A=(F.a.SubMenu,function(e){var t=Object(n.useState)(!0),a=Object(s.a)(t,2),r=a[0];a[1];return i.a.createElement(R.a.Sider,{collapsed:r},i.a.createElement("div",{className:"logo"}),i.a.createElement(F.a,{theme:"dark",defaultSelectedKeys:["1"],mode:"inline"},i.a.createElement(F.a.Item,{key:"1",icon:i.a.createElement(Y.a,null)},"Maps"),i.a.createElement(F.a.Item,{key:"9",icon:i.a.createElement(L.a,null)})))}),T=a(129),N=a(388),G=a(93),z=a(56),H=a(384),q=a(390),B=a(103),K=a(389),V=a(68),W=a(195),X=a(385),J=a(394),Q=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),r=a[0],l=a[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"button-clear"},i.a.createElement(c.a,{count:e.count},i.a.createElement(u.a,{type:"primary",shape:"circle",size:"large",id:"buttonClear",onClick:e.onClick},i.a.createElement(J.a,null)))),i.a.createElement(m.a,{title:"Deforestation",placement:"right",closable:!0,onClose:function(){l(!1)},visible:r,width:500}))},U=a(395),Z=function(e){return i.a.createElement("div",{className:e.className},i.a.createElement(u.a,{type:"primary",shape:"circle",size:"large",id:"buttonClear",onClick:e.onClick,danger:!0},i.a.createElement(U.a,null)))},$=a(382),ee=function(e){return i.a.createElement($.a,{type:"inner",title:"Deforestation ".concat(e.index),extra:i.a.createElement(u.a,{type:"dashed",onClick:e.zoomTo},"Zoom to")},i.a.createElement(N.a,{size:"small",layout:"vertical"},i.a.createElement(N.a.Item,{label:"Latitude"},e.lat),i.a.createElement(N.a.Item,{label:"Longitude"},e.lon),i.a.createElement(N.a.Item,{label:"Start Date"},j()(new Date(e.startdate)).format("yyyy/MM/DD")),i.a.createElement(N.a.Item,{label:"End Date"},j()(new Date(e.enddate)).format("yyyy/MM/DD")),i.a.createElement(N.a.Item,{label:"Peatland"},e.peatland," ha"),i.a.createElement(N.a.Item,{label:"Mangrove"},e.mangrove," ha"),i.a.createElement(N.a.Item,{label:"Other"},e.other," ha"),i.a.createElement(N.a.Item,{label:"Total"},e.total," ha")))},te=a(204),ae=a(380),re=a(187),ne=function(e){var t=Object(n.useState)([]),a=Object(s.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)([]),c=Object(s.a)(o,2),m=c[0],d=c[1],p=Object(n.useState)([]),f=Object(s.a)(p,2),y=f[0],v=f[1],h=Object(n.useState)([]),g=Object(s.a)(h,2),b=g[0],w=g[1],E={latitude:e.location.latitude,longitude:e.location.longitude};Object(n.useEffect)((function(){Object(T.loadModules)(["esri/geometry/geometryEngine","esri/geometry/projection","esri/geometry/SpatialReference"]).then((function(t){var a=Object(s.a)(t,3),r=a[0],n=a[1],i=a[2],o=Object(s.a)(e.data,4),c=o[0],u=o[1],m=o[2],p=o[3];console.log("hs",p);var f=c.map((function(e,t){var a={latitude:e.geometry.latitude,longitude:e.geometry.longitude},r=Object(re.getDistance)(E,a),n=r>1e3?"warning":"impacted";return{key:t,no:t+1,name:e.attributes.PomName,distance:r/1e3,distanceNumber:r,status:n}}));f.sort((function(e,t){return e.distanceNumber-t.distanceNumber}));var y=p.map((function(e,t){return{key:t,acq_date:e.attributes.Loc_Date,latitude:e.attributes.Latitude,longitude:e.attributes.Longitude,verification:e.attributes.Verificati}}));console.log("dataHotspot",y);var h=u.map((function(t,a){return n.load().then((function(){var l=new i({wkid:3857}),o=n.project(e.dfrsArea,l),s=n.project(t.geometry,l),c=r.distance(o,s),u=c<1e3?"impacted":"warning";return{key:a,no:a+1,name:t.attributes.Name,area:10,distance:(c/1e3).toFixed(2),status:u}}))})),g=m.map((function(t,a){return console.log("el",t),n.load().then((function(){var l=new i({wkid:3857}),o=n.project(e.dfrsArea,l),s=n.project(t.geometry,l),c=r.distance(o,s),u=c<1e3?"impacted":"warning";return{remark:t.attributes.Category,area:t.attributes["SHAPE.STArea()"],key:a,status:u,distance:(c/1e3).toFixed(2)}}))}));Promise.all(h).then((function(e){return d(e)})),Promise.all(g).then((function(e){return v(e)})),l(f),w(y)}))}),[]);var k=[{title:"Pom Name",dataIndex:"name",key:"name",span:10,sorter:function(e,t){return e.name.localeCompare(t.name)},sortDirections:["ascend"]},{title:"Distance (estimation) in Km",dataIndex:"distance",key:"distance",span:10,sorter:function(e,t){return e.distance-t.distance}},{title:"Status",dataIndex:"status",key:"status",span:10,render:function(e){var t="warning"==e?"yellow":"red";return i.a.createElement(te.a,{color:t,key:e},e)}},{title:"Action",dataIndex:"action",key:"action",span:10}],S=[{title:"Concession",dataIndex:"name",key:"name",span:10},{title:"Distance in Km (Estimation)",dataIndex:"distance",key:"distance",span:10,sorter:function(e,t){return e.distance-t.distance}},{title:"Status",dataIndex:"status",key:"status",span:10,render:function(e){var t="warning"==e?"yellow":"red";return i.a.createElement(te.a,{color:t,key:e},e)}},{title:"Action",dataIndex:"action",key:"action",span:10}];return i.a.createElement("div",{style:{height:"60vh",overflow:"scroll",paddingLeft:"5vw",paddingRight:"5vw"}},i.a.createElement("h2",null,"POM"),i.a.createElement(ae.a,{dataSource:r,columns:k}),i.a.createElement(D.a,null),i.a.createElement("h2",null,"Concession"),i.a.createElement(ae.a,{dataSource:m,columns:S}),i.a.createElement(D.a,null),i.a.createElement("h2",null,"Peat"),i.a.createElement(ae.a,{dataSource:y,columns:[{title:"Remarks",dataIndex:"remark",key:"remark",span:10},{title:"Distance in Km (Estimation)",dataIndex:"distance",key:"distance",span:10,sorter:function(e,t){return e.distance-t.distance}},{title:"Total Area",dataIndex:"area",key:"area",span:10},{title:"Action",dataIndex:"action",key:"action",span:10}]}),i.a.createElement(D.a,null),i.a.createElement("h2",null,"Hotspot"),i.a.createElement(ae.a,{dataSource:b,columns:[{title:"Latitude",dataIndex:"latitude",key:"latitude",span:10},{title:"Longitude",dataIndex:"longitude",key:"longitude",span:10},{title:"Acquisition Date",dataIndex:"acq_date",key:"acq_date",span:10},{title:"Verification",dataIndex:"verification",key:"verification",span:10}]}),i.a.createElement(D.a,null),i.a.createElement(u.a,{type:"dashed"},"Export to PDF"),i.a.createElement(D.a,null))},ie="http://10.7.12.21:8000/service/WGService.asmx/",le=function(e){Object(v.a)(a,e);var t=Object(h.a)(a);function a(e,r){var n;return Object(f.a)(this,a),(n=t.call(this,e,r)).f_showDrawer=function(e){n.setState({isDrawerShow:e})},n.f_dfrsFormOnFinish=function(e,t){var a,r;if("range-picker"==t){var i=e["range-picker"][0].format("YYYY-MM-DD"),l=e["range-picker"][1].format("YYYY-MM-DD");a="start_date >= '".concat(i,"' and end_date <= '").concat(l,"'"),r=[i,l]}else if("period"==t){var o=e["period-time"].split("|"),c=Object(s.a)(o,2),u=c[0],m=c[1];a="end_date >= '".concat(u,"' and end_date <= '").concat(m,"'"),r=[u,m]}else"all"==t&&(a="",r=[]);n.setState({timeSelection:r});var d=n.layerDeforestationPoint.createQuery();d.where=a,n.layerDeforestationPoint.queryFeatures(d).then((function(e){return n.setState({dfrsResult:e.features})})),n.layerDeforestationPoint.definitionExpression=a,n.layerDeforestationPoint.visible=!0},n.f_zoomTo=function(e,t){console.log(e,t),n.view.center=[t,e],n.view.zoom=13},n.f_fetchTimeDfrs=function(){fetch("https://idjktsvr10.wil.local/arcgis/rest/services/NewGISInteractiveMap/Deforestation/MapServer/0/query?f=json&outFields=[start_date,end_date]&where=1=1&returnGeometry=false").then((function(e){return e.json()})).then((function(e){return n.setState({timedata:e.features})}))},n.f_clearBufferLayers=function(){n.bufferLayer.removeAll()},n.f_onClear=function(){n.setState({dfrsResult:null}),n.layerDeforestationPoint.visible=!1},n.f_hotspot=function(){},n.mapRef=i.a.createRef(),n.state={isDrawerShow:!1,dfrsResult:null,timedata:[],showModal:!1,modalData:[],isLoading:!1,dfrsPointGeom:[],dfrsAreaGeom:null,timeSelection:[]},n.theme={dark:"https://js.arcgis.com/4.16/esri/themes/dark/main.css",light:!0},n.f_fetchTimeDfrs(),n}return Object(y.a)(a,[{key:"f_getDatesRange",value:function(e,t){for(var a=e,r=[];a<=t;){var n=a.format(),i=a.add(13,"days").format();r.push([n,i]),a=a.add(1,"days")}return r.reverse()}},{key:"componentDidMount",value:function(){var e=this;Object(T.loadModules)(["esri/Map","esri/views/MapView","esri/layers/VectorTileLayer","esri/widgets/BasemapGallery","esri/widgets/Expand","esri/widgets/LayerList","esri/layers/FeatureLayer","esri/layers/GroupLayer","esri/Graphic","esri/layers/GraphicsLayer","esri/widgets/Legend","esri/geometry/geometryEngine","esri/core/watchUtils","esri/widgets/DistanceMeasurement2D","esri/tasks/support/Query","esri/widgets/TimeSlider"],{css:this.theme.light}).then((function(t){var a=Object(s.a)(t,16),r=a[0],l=a[1],c=a[2],m=a[3],d=a[4],p=a[5],f=a[6],y=a[7],v=a[8],h=a[9],g=a[10],b=a[11],w=a[12],E=(a[13],a[14]),k=a[15],S=function(t){for(var a=Object(n.useState)(!1),r=Object(s.a)(a,2),l=r[0],o=r[1],c=t.data,m=[],d=0,p=Object.keys(c);d<p.length;d++){var f=p[d];m.push(i.a.createElement(N.a.Item,{label:f,key:f},c[f]))}var y=function(t,a,r,n){var i;"Refinery"===a?(i="".concat(ie,"_GetPOMSupplier_?refinery=").concat(t),e.layerPom.visible=!0):"POM"===a&&(i="".concat(ie,"_GetRefinery_?pom=").concat(t),e.layerRefinery.visible=!0),fetch(i).then((function(e){return e.json()})).then((function(t){var a={type:"simple-line",color:[226,119,40],width:2};t.map((function(t){var i={type:"polyline",paths:[[r,n],[parseFloat(t.X_Coor),parseFloat(t.Y_Coor)]]},l=new v({geometry:i,symbol:a});e.view.graphics.add(l)}))})).then((function(){return o(!0)})).catch((function(e){return console.log("error",e)}))},h=function(){e.view.graphics.removeAll(),e.layerRefinery.visible=!1,o(!1)};return i.a.createElement(i.a.Fragment,null,i.a.createElement(N.a,{title:t.title,style:{fontSize:"12px"},bordered:!0,column:1,size:"small"},m),i.a.createElement(D.a,null),function(){switch(t.title){case"POM":return l?i.a.createElement(u.a,{type:"primary",onClick:h,danger:!0},"Clear"):i.a.createElement(u.a,{type:"primary",onClick:function(){return y(c.pomid,t.title,t.position.longitude,t.position.latitude)}},"Trace");case"Refinery":return 1==l?i.a.createElement(u.a,{type:"primary",onClick:h,danger:!0},"Clear"):i.a.createElement(u.a,{type:"primary",onClick:function(){return y(c.rfid,t.title,t.position.longitude,t.position.latitude)}},"Trace")}}())},P=function(t){console.log("props",t);var a=Object(n.useState)(0),r=Object(s.a)(a,2),l=r[0],o=r[1],c=[{label:"POM",value:e.layerPom,key:"1"},{label:"Reffinery",value:e.layerRefinery,key:"2"},{label:"Concession Area",value:e.layerPlantationArea,key:"3"},{label:"Peatland",value:e.layerPeat,key:"4"}],m=function(e){e.target.value.visible=e.target.checked},d=function(e){o(e),t.onSliderChange(e)};return i.a.createElement(i.a.Fragment,null,i.a.createElement(D.a,null),i.a.createElement("h4",null,"Buffer Radius in Kilometers"),i.a.createElement("div",null,i.a.createElement(G.a,null,i.a.createElement(z.a,{span:17},i.a.createElement(H.a,{defaultValue:l,max:50,value:"number"===typeof l?l:0,tooltipPlacement:"bottom",onChange:d})),i.a.createElement(z.a,{span:2},i.a.createElement(q.a,{min:0,max:50,style:{margin:"0 16px"},value:l,onChange:d})))),i.a.createElement(D.a,null),i.a.createElement("h4",null,"Show or hide layer"),c.map((function(e){return i.a.createElement(B.a,{key:e.key,value:e.value,onChange:m},e.label)})),i.a.createElement(D.a,null),i.a.createElement(M.a,null,i.a.createElement(u.a,{type:"primary",onClick:function(){var a=void 0!==e.bufferLayer.graphics.getItemAt(0)&&e.bufferLayer.graphics.getItemAt(0).geometry;if(a){var r=new E;r.geometry=a,r.spatialRelationship="intersects",r.returnGeometry=!0,r.outFields="*",r.outSpatialReference={wkid:4326};var n=new E;n.outFields="*",n.returnGeometry=!0,n.where="id = '".concat(t.id,"'");var i=new E;i.outFields="*",i.geometry=a,i.returnGeometry=!0,i.spatialRelationship="intersects",i.where="Acq_Date between date'".concat(j()(t.attributes.start_date).format("YYYY-MM-DD"),"' and '").concat(j()(t.attributes.end_date).format("YYYY-MM-DD"),"'"),e.layerDeforestationArea.queryFeatures(n).then((function(t){e.setState({dfrsAreaGeom:t.features[0].geometry})})),e.setState({isLoading:!0}),Promise.all([e.layerPom.queryFeatures(r),e.layerPlantationArea.queryFeatures(r),e.layerPeat.queryFeatures(r),e.layerHotspot.queryFeatures(i)]).then((function(t){var a=t.map((function(e){return e.features}));e.setState({modalData:a})})).then((function(){return e.setState({showModal:!0,isLoading:!1})}))}}},"Analysze"),i.a.createElement(u.a,{type:"primary",onClick:function(){return e.setState({showModal:!0})}},"Export to PDF")))},O=function(t,a){console.log(t,a);var r=document.createElement("div");if("POM"===a)A.content=r,o.a.render(i.a.createElement(S,{data:t.graphic.attributes,title:a,position:{latitude:t.graphic.geometry.latitude,longitude:t.graphic.geometry.longitude}}),r);else if("Deforestation Point"===a){K.content=r;o.a.render(i.a.createElement(P,{id:t.graphic.attributes.id,onSliderChange:function(a){var r=t.graphic.geometry;e.setState({dfrsPointGeom:r}),function(t,a){if(a>0){var r=b.geodesicBuffer(t,a,"kilometers");0===e.bufferLayer.graphics.length?e.bufferLayer.add(new v({geometry:r,symbol:{type:"simple-fill",color:[140,140,222,.5],outline:{color:[0,0,0,.5],width:2}}})):e.bufferLayer.graphics.getItemAt(0).geometry=r}else e.bufferLayer.removeAll()}(r,a)},attributes:t.graphic.attributes}),r)}return r};e.map=new r({basemap:"streets-night-vector"}),e.view=new l({container:e.mapRef.current,map:e.map,center:[118,0],zoom:4}),e.view.when((function(){console.log("sukses")}),(function(e){console.log(e)})),e.layerPlantationPoint=new f({url:"https://idjktsvr10.wil.local/arcgis/rest/services/NewGISInteractiveMap/OilPalm_Plantation_TP_Supplier/MapServer/0",title:"Oil Palm Plantation of Third Party Supplier",visible:!1}),e.layerPlantationArea=new f({url:"https://idjktsvr10.wil.local/arcgis/rest/services/NewGISInteractiveMap/Third_Party_Supplier/MapServer/2",title:"Oil Palm Area",visible:!1}),e.layerPeat=new f({url:"https://idjktsvr10.wil.local/arcgis/rest/services/NewGISInteractiveMap/Layer_Fungsi_Ekosistem_Gambut_201907_sde/MapServer/0",title:"Peat Ecosystem",visible:!1,outFields:["*"]}),e.layerPkCrushing=new f({url:"https://idjktsvr10.wil.local/arcgis/rest/services/industries_MIL1/MapServer/0",title:"PK Crushing",visible:!1}),e.layerRefinery=new f({url:"https://idjktsvr10.wil.local/arcgis/rest/services/NewGISInteractiveMap/Layer_Refinery_201908_sde/MapServer/0",title:"Refinery",visible:!1,popupEnabled:!0,outFields:["*"]}),e.layerPom=new f({url:"https://gisportal.wilmar.co.id/arcgisserver/rest/services/NewGISInteractiveMap_2/POM/MapServer/0",title:"POM Supplier",visible:!1,popupEnabled:!0,outFields:["pomid","PomName","CompanyNam","PlaceName","Tankcap","Silocap"]}),e.layerDeforestationPoint=new f({url:"https://idjktsvr10.wil.local/arcgis/rest/services/NewGISInteractiveMap/Deforestation/MapServer/0",title:"Deforestation Point",visible:!1,popupEnabled:!0,outFields:["*"]}),e.map.add(e.layerDeforestationPoint),e.layerDeforestationArea=new f({url:"https://idjktsvr10.wil.local/arcgis/rest/services/NewGISInteractiveMap/Deforestation/MapServer/1",title:"Deforestation Area",visible:!1});new c({url:"https://gisportal.wilmar.co.id/arcgisserver/rest/services/Hosted/Wilmar_Basemap2/VectorTileServer?f=pjson"});e.layerHotspot=new f({url:"https://idjktsvr10.wil.local/arcgis/rest/services/NewGISInteractiveMap/Hotspot_HSP1/MapServer/0",title:"Hotspot",visible:!1}),e.map.add(e.layerHotspot),e.sketchLayer=new h({listMode:"hide"}),e.bufferLayer=new h({listMode:"hide"}),e.map.addMany([e.sketchLayer,e.bufferLayer]);var _=new y({title:"Industries"}),I=new y({title:"Plantation"}),C=new y({title:"Deforestation"});_.addMany([e.layerPkCrushing,e.layerRefinery,e.layerPom]),I.addMany([e.layerPlantationArea,e.layerPlantationPoint,e.layerPeat]),C.addMany([e.layerDeforestationArea,e.layerDeforestationPoint]),e.map.addMany([I,_,C]);var x=new m({view:e.view}),F=new d({view:e.view,content:x,expandTooltip:"Change Basemap"});e.view.ui.add(F,"top-right");var R=new p({view:e.view}),Y=new d({view:e.view,content:R,expandTooltip:"Layer List"});e.view.ui.add(Y,"top-right");var L=new g({view:e.view});e.view.ui.add(L,"bottom-right");new k({container:"timeSlider",playRate:50,stops:{interval:{value:1,unit:"hours"}}});var A={title:"POM Suplier",content:function(e){return O(e,"POM")}};e.layerPom.popupTemplate=A;var T={title:"Refinery",content:function(e){return O(e,"Refinery")}};e.layerRefinery.popupTemplate=T;var K={title:"Deforestation Point",content:function(e){return O(e,"Deforestation Point")}};e.layerDeforestationPoint.popupTemplate=K,w.whenTrue(e.view,"stationary",(function(){e.view.zoom>=10?(console.log(e.view.zoom),e.layerDeforestationArea.visible=!!e.layerDeforestationPoint.visible):e.layerDeforestationArea.visible=!1}))}))}},{key:"componentDidUpdate",value:function(){}},{key:"componentWillMount",value:function(){this.view&&(this.view.container=null)}},{key:"render",value:function(){var e,t=this;if(null==this.state.dfrsResult)e=i.a.createElement(K.a,{title:"Please choose date range"});else if(0==this.state.dfrsResult.length)e=i.a.createElement(V.a,null);else{var a=[];this.state.dfrsResult.map((function(e,r){a.push(i.a.createElement(ee,{key:r,lat:e.attributes.POINT_X,lon:e.attributes.POINT_Y,startdate:e.attributes.start_date,enddate:e.attributes.end_date,peatland:e.attributes.peatland,mangrove:e.attributes.mangrove,other:e.attributes.other,total:e.attributes.total,index:r+1,zoomTo:function(){return t.f_zoomTo(e.attributes.POINT_Y,e.attributes.POINT_X)}}))})),e=i.a.createElement(M.a,{direction:"vertical"},a)}return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"webmap",ref:this.mapRef}),i.a.createElement("div",{className:"spinner"},i.a.createElement(W.a,{spinning:this.state.isLoading,size:"large",tip:"Loading..."})),i.a.createElement(x,{onClick:function(){return t.f_showDrawer(!0)},count:4}),i.a.createElement(Q,{onClick:this.f_clearBufferLayers}),i.a.createElement(Z,{className:"button-hotspot",onClick:function(){return t.layerHotspot.visible=!t.layerHotspot.visible}}),i.a.createElement(m.a,{title:"Deforestation",placement:"right",closable:!0,onClose:function(){return t.f_showDrawer(!1)},visible:this.state.isDrawerShow,width:500},i.a.createElement(C,{timesRange:this.f_getDatesRange(j()("20190215"),j()()),onFinish:this.f_dfrsFormOnFinish,onClear:this.f_onClear}),i.a.createElement(D.a,null),i.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between"}},e)),i.a.createElement(X.a,{title:"Impacted",visible:this.state.showModal,onOk:function(e){return t.setState({showModal:!1})},onCancel:function(e){return t.setState({showModal:!1})},width:"80vw"},i.a.createElement(ne,{data:this.state.modalData,location:this.state.dfrsPointGeom,dfrsArea:this.state.dfrsAreaGeom})))}}]),a}(i.a.Component);le.contextType=r;var oe=le,se=(a(373),R.a.Content);var ce=function(){return i.a.createElement(w,null,i.a.createElement(R.a,{style:{minHeight:"100vh"}},i.a.createElement(A,null),i.a.createElement(R.a,{className:"site-layout"},i.a.createElement(se,{style:{margin:"0 0px"}},i.a.createElement("div",{className:"site-layout-background",style:{minHeight:"100vh"}},i.a.createElement(oe,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[207,1,2]]]);
//# sourceMappingURL=main.1c95455f.chunk.js.map